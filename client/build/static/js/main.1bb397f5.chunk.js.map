{"version":3,"sources":["context/RestaurantsContext.js","apis/RestaurantFinder.js","components/AddRestaurant.jsx","components/Header.jsx","components/StarRating.jsx","components/RestaurantList.jsx","routes/Home.jsx","components/AddReview.jsx","components/Reviews.jsx","routes/RestaurantdetailPage.jsx","components/UpdateRestaurant.jsx","routes/UpdatePage.jsx","App.jsx","index.js"],"names":["RestaurantsContext","createContext","RestaurantsContextProvider","children","useState","restaurants","setRestaurants","selectedRestaurant","setSelectedRestaurant","Provider","value","addRestaurant","restaurant","deleteRestaurant","id","data","filter","RestaurantFinder","axios","create","baseURL","timeout","axiosRetry","retries","AddRestaurant","useContext","name","setName","location","setLocation","price","setPrice","isDisabled","trim","length","className","onSubmit","e","preventDefault","post","price_range","then","response","catch","error","console","log","action","type","onChange","target","placeholder","disabled","style","textAlign","paddingTop","borderRadius","xmlns","width","height","fill","viewBox","d","Header","color","StarRating","rating","stars","i","push","Math","ceil","Number","isInteger","RestaurantList","props","history","useHistory","isLoading","setIsLoading","renderRating","count","useEffect","get","prevState","class","scope","map","average_rating","onClick","handleRestaurantSelect","repeat","stopPropagation","handleUpdate","delete","handleDelete","Home","backgroundColor","AddReview","useParams","setRating","review","setReview","htmlFor","rows","Reviews","reviews","maxWidth","RestaurantdetailPage","prev","Spinner","animation","role","UpdateRestaurant","put","min","max","UpdatePage","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1bb397f5.chunk.js","sourcesContent":["import React, { createContext, useState } from \"react\";\r\n\r\nexport const RestaurantsContext = createContext();\r\n\r\nexport const RestaurantsContextProvider = ({ children }) => {\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [selectedRestaurant, setSelectedRestaurant] = useState(\"\");\r\n\r\n  const addRestaurant = (restaurant) => {\r\n    setRestaurants([...restaurants, restaurant]);\r\n  };\r\n\r\n  const deleteRestaurant = (id) => {\r\n    let data = restaurants.filter((restaurant) => restaurant.id !== id);\r\n    setRestaurants(data);\r\n  };\r\n  return (\r\n    <RestaurantsContext.Provider\r\n      value={{\r\n        restaurants,\r\n        setRestaurants,\r\n        addRestaurant,\r\n        deleteRestaurant,\r\n        selectedRestaurant,\r\n        setSelectedRestaurant,\r\n      }}\r\n    >\r\n      {children}\r\n    </RestaurantsContext.Provider>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport axiosRetry from \"axios-retry\";\r\n\r\nconst RestaurantFinder = axios.create({\r\n  baseURL:\r\n    process.env.NODE_ENV === \"production\"\r\n      ? \"https://desolate-eyrie-91630.herokuapp.com/api/v1/restaurants\"\r\n      : \"http://localhost:7000/api/v1/restaurants\",\r\n  timeout: 5000,\r\n});\r\n\r\naxiosRetry(RestaurantFinder, { retries: 3 });\r\n\r\nexport default RestaurantFinder;\r\n","import RestaurantFinder from \"../apis/RestaurantFinder\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\r\n\r\nconst AddRestaurant = () => {\r\n  const {addRestaurant} = useContext(RestaurantsContext)\r\n  const [name, setName] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [price, setPrice] = useState(1);\r\n\r\n  const isDisabled = name.trim().length === 0 || location.trim().length === 0\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    RestaurantFinder.post('/', {\r\n      name: name,\r\n      location,\r\n      price_range: price\r\n    })\r\n    .then(function (response) {\r\n      addRestaurant(response.data.data)\r\n      setName(\"\");\r\n      setPrice(0);\r\n      setLocation(\"\");\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <form onSubmit={handleSubmit} action=\"\">\r\n        <div className=\"form-row m-3\">\r\n          <div className=\"col\">\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              className=\"form-control\"\r\n              onChange={(e) => setName(e.target.value)}\r\n              placeholder=\"name\"\r\n            />\r\n          </div>\r\n          <div className=\"col\">\r\n            <input\r\n              type=\"text\"\r\n              value={location}\r\n              className=\"form-control\"\r\n              onChange={(e) => setLocation(e.target.value)}\r\n              placeholder=\"location\"\r\n            />\r\n          </div>\r\n          <div className=\"col\">\r\n            <select\r\n              className=\"custom-select mr-sm-2\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n              value={price}\r\n            >\r\n              <option disabled>Price Range</option>\r\n              <option value=\"1\">$</option>\r\n              <option value=\"2\">$$</option>\r\n              <option value=\"3\">$$$</option>\r\n              <option value=\"4\">$$$$</option>\r\n              <option value=\"5\">$$$$$</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div style={{ textAlign: 'center', paddingTop: 15 }}>\r\n        <button type=\"submit\" disabled={isDisabled} className=\"col-auto btn btn-sm btn-primary\" style={{ borderRadius: '40%' }}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"#ffc107\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\r\n          </svg>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddRestaurant;\r\n","import React from 'react'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"pt-5\" style={{ color: '#343a40' }}>\r\n      <h1 className=\"font-weight-bold display-4 text-center\">ATX Eats</h1>\r\n      <h2 className=\"font-weight-bold display-5 text-center pb-3\">Eat. Review. Repeat. 🍔</h2>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\n\r\nconst StarRating = ({ rating }) => {\r\n  const stars = [];\r\n\r\n  for (var i = 1; i <= 5; i++) {\r\n    if (i <= rating) {\r\n      stars.push(<i key={i} className=\"text-warning fas fa-star\"></i>);\r\n    } \r\n    else if(i === Math.ceil(rating) && !Number.isInteger(rating)){\r\n      stars.push(<i key={i} className=\"text-warning fas fa-star-half-alt\"></i>);\r\n\r\n    } else {\r\n      stars.push(<i key={i} className=\"far fa-star\"></i>);\r\n    }\r\n  }\r\n  return <>{stars}</>;\r\n};\r\n\r\nexport default StarRating;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport StarRating from \"./StarRating\";\r\n\r\nconst RestaurantList = (props) => {\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { restaurants, setRestaurants, deleteRestaurant } = useContext(\r\n    RestaurantsContext\r\n  );\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    history.push(`/api/v1/restaurants/${id}/update`);\r\n  };\r\n\r\n  const handleRestaurantSelect = (id) => {\r\n    history.push(`/api/v1/restaurants/${id}`);\r\n  };\r\n\r\n  const renderRating = (rating, count) => {\r\n    if (!count) {\r\n      return <span className=\"text-warning\">0 review</span>;\r\n    } else {\r\n      return (\r\n        <>\r\n          <StarRating rating={rating} />\r\n          <span className=\"text-warning ml-1\">({count})</span>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleDelete = (e, id) => {\r\n    e.stopPropagation();\r\n    RestaurantFinder.delete(`/${id}`)\r\n      .then(function (response) {\r\n        deleteRestaurant(id);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    RestaurantFinder.get(\"/\")\r\n      .then((response) => {\r\n        setRestaurants(response.data.data);\r\n      })\r\n      .then(() => {\r\n        setIsLoading((prevState) => !prevState);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [setRestaurants]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center\" style={{ color: 'red' }}>\r\n        <i class=\"fas fa-hamburger fa-spin fa-5x\"></i>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"table-responsive pt-2 pr-4 pl-4\">\r\n      <table className=\"table table-striped table-hover table-dark\">\r\n        <thead>\r\n          <tr className=\"bg-primary\">\r\n            <th scope=\"col\">Restaurant</th>\r\n            <th scope=\"col\">Location</th>\r\n            <th scope=\"col\">Price Range</th>\r\n            <th scope=\"col\">Ratings</th>\r\n            <th scope=\"col\">Edit</th>\r\n            <th scope=\"col\">Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {restaurants.map(\r\n            ({ id, name, location, price_range, count, average_rating }) => (\r\n              <tr onClick={() => handleRestaurantSelect(id)} key={id}>\r\n                <th scope=\"row\">{name}</th>\r\n                <td>{location}</td>\r\n                <td>{\"$\".repeat(price_range)}</td>\r\n                <td>{renderRating(average_rating, count)}</td>\r\n                <td>\r\n                  <button\r\n                    onClick={(e) => handleUpdate(e, id)}\r\n                    className=\"btn btn-warning\"\r\n                  >\r\n                    Update\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    onClick={(e) => handleDelete(e, id)}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantList;\r\n","import React from \"react\"\r\nimport AddRestaurant from \"../components/AddRestaurant\"\r\nimport Header from \"../components/Header\"\r\nimport RestaurantList from \"../components/RestaurantList\"\r\n\r\nconst Home = (props) => {\r\n  return (\r\n    <div style={{ backgroundColor: '#ffc107' }}>\r\n      <Header/>\r\n      <AddRestaurant/>\r\n      <RestaurantList />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\n\r\nconst AddReview = () => {\r\n  const {id} = useParams()\r\n  const history = useHistory()\r\n  const [name, setName] = useState(\"\");\r\n  const [rating, setRating] = useState(1);\r\n  const [review, setReview] = useState(\"\");\r\n\r\n  const isDisabled = name.trim().length === 0 || review.trim().length === 0\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    RestaurantFinder.post(`/${id}/addReview`, {\r\n      name,\r\n      rating,\r\n      review\r\n    })\r\n    .then(function (response) {\r\n      setName(\"\");\r\n      setRating(0);\r\n      setReview(\"\");\r\n      history.push('/')\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-8\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-4\">\r\n            <label htmlFor=\"rating\">Rating</label>\r\n            <select\r\n              onChange={(e) => setRating(e.target.value)}\r\n              value={rating}\r\n              name=\"rating\"\r\n              id=\"rating\"\r\n              className=\"custom-select\"\r\n            >\r\n              <option disabled>Rating</option>\r\n              <option value=\"1\">1</option>\r\n              <option value=\"2\">2</option>\r\n              <option value=\"3\">3</option>\r\n              <option value=\"4\">4</option>\r\n              <option value=\"5\">5</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"review\">Review</label>\r\n          <textarea value={review} onChange={e=> setReview(e.target.value)} className=\"form-control\" rows=\"5\"></textarea>\r\n        </div>\r\n        <button disabled={isDisabled} className=\"btn btn-primary\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddReview;\r\n","import React from \"react\";\r\nimport StarRating from \"./StarRating\";\r\n\r\nconst Reviews = (props) => {\r\n  const { reviews } = props.reviews;\r\n  \r\n  return (\r\n    <div className=\"row row-cols-3 mb-2\">\r\n      {reviews.map((review) => (\r\n        <div\r\n          key={review.id}\r\n          className=\"card text-white bg-primary mb-3 mr-3\"\r\n          style={{ maxWidth: \"15rem\" }}\r\n        >\r\n          <div className=\"card-header\">{review.name}</div>\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">\r\n              <StarRating rating={review.rating} />\r\n            </h5>\r\n            <p className=\"card-text\">{review.review}</p>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport RestaurantFinder from '../apis/RestaurantFinder';\r\nimport AddReview from '../components/AddReview';\r\nimport Reviews from '../components/Reviews';\r\nimport StarRating from '../components/StarRating';\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { RestaurantsContext } from '../context/RestaurantsContext';\r\n\r\nconst RestaurantdetailPage = () => {\r\n  const {id} = useParams()\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const {selectedRestaurant, setSelectedRestaurant} = useContext(RestaurantsContext)  \r\n\r\n  useEffect(() => {\r\n    RestaurantFinder.get(`/${id}`)\r\n      .then((response) => {\r\n        const data = response.data.data\r\n        setSelectedRestaurant(data);\r\n      })\r\n      .then(()=>{\r\n        setIsLoading(prev => !prev)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [setSelectedRestaurant, id]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center\">\r\n        <Spinner animation=\"border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {selectedRestaurant && (\r\n        <>\r\n        <h1 className=\"font-weight-light display-1 text-center\">{selectedRestaurant.restaurant.name}</h1>\r\n        <div className=\"text-center\">\r\n          <StarRating rating={selectedRestaurant.restaurant.average_rating} />\r\n          <span className=\"text-warning ml-1\">\r\n            {selectedRestaurant.restaurant.count ? `(${Number(selectedRestaurant.restaurant.count)})` : \"(0)\"}\r\n          </span>\r\n        </div>\r\n        <div className=\"mt-3\">\r\n          <Reviews reviews={selectedRestaurant}/>\r\n        </div>\r\n        <AddReview />\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RestaurantdetailPage\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\n\r\nconst UpdateRestaurant = () => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [price, setPrice] = useState(1);\r\n\r\n  useEffect(() => {\r\n    RestaurantFinder.get(`/${id}`)\r\n      .then((response) => {\r\n        const data = response.data.data.restaurant;\r\n        setName(data.name);\r\n        setLocation(data.location);\r\n        setPrice(data.price_range);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [id]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    RestaurantFinder.put(`/api/v1/restaurants/${id}`, {\r\n      name,\r\n      location,\r\n      price_range: price,\r\n    })\r\n      .then(function () {\r\n        history.push(\"/\");\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"font-weight-light display-2 text-center\">\r\n        Update {name}\r\n      </h1>\r\n      <div>\r\n        <form onSubmit={onSubmit} action=\"\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"name\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"location\">Location</label>\r\n            <input\r\n              type=\"text\"\r\n              value={location}\r\n              onChange={(e) => setLocation(e.target.value)}\r\n              className=\"form-control\"\r\n              id=\"location\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"price_range\">Price Range</label>\r\n            <input\r\n              type=\"number\"\r\n              value={price}\r\n              onChange={(e) => setPrice(e.target.value)}\r\n              min=\"1\"\r\n              max=\"5\"\r\n              className=\"form-control\"\r\n              id=\"price_range\"\r\n            />\r\n          </div>\r\n          <button className=\"btn btn-primary\">Submit</button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UpdateRestaurant;\r\n","import React from 'react'\r\nimport UpdateRestaurant from '../components/UpdateRestaurant'\r\n\r\nconst UpdatePage = () => {\r\n  return (\r\n    <div>\r\n      <UpdateRestaurant/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdatePage\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { RestaurantsContextProvider } from \"./context/RestaurantsContext\";\r\nimport Home from \"./routes/Home\";\r\nimport RestaurantdetailPage from \"./routes/RestaurantdetailPage\";\r\nimport UpdatePage from \"./routes/UpdatePage\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <RestaurantsContextProvider>\r\n      <div className=\"container\">\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"https://desolate-eyrie-91630.herokuapp.com/api/v1/restaurants/:id/update\" component={UpdatePage} />\r\n            {/* <Route exact path=\"/restaurants/:id/update\" component={UpdatePage} /> */}\r\n            <Route\r\n              exact\r\n              path=\"https://desolate-eyrie-91630.herokuapp.com/api/v1/restaurants/:id\"\r\n              // path=\"/restaurants/:id\"\r\n              component={RestaurantdetailPage}\r\n            />\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    </RestaurantsContextProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'))\r\n"],"sourceRoot":""}