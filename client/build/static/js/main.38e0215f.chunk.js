(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{68:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(29),s=c.n(a),r=c(10),i=c(3),l=c(34),o=c(4),j=c(0),b=Object(n.createContext)(),u=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(o.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),d=u[0],h=u[1],O=Object(n.useState)(!1),x=Object(o.a)(O,2),m=x[0],f=x[1];return Object(j.jsx)(b.Provider,{value:{restaurants:s,setRestaurants:r,addRestaurant:function(e){r([].concat(Object(l.a)(s),[e]))},deleteRestaurant:function(e){var t=s.filter((function(t){return t.id!==e}));r(t)},selectedRestaurant:d,setSelectedRestaurant:h,setHamburgerOpen:f,hamburgerOpen:m},children:t})},d=c(30),h=c.n(d),O=c(35),x=h.a.create({baseURL:"https://atx-eats.herokuapp.com/api/v1/restaurants",timeout:5e3});Object(O.a)(x,{retries:3});var m=x,f=function(){var e=Object(n.useContext)(b),t=e.addRestaurant,c=e.hamburgerOpen,a=Object(n.useState)(""),s=Object(o.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),d=u[0],h=u[1],O=Object(n.useState)(1),x=Object(o.a)(O,2),f=x[0],p=x[1],g=0===r.trim().length||0===d.trim().length;return Object(j.jsx)(j.Fragment,{children:c&&Object(j.jsx)("div",{className:"mb-4",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.post("/",{name:r,location:d,price_range:f}).then((function(e){t(e.data.data),i(""),p(0),h("")})).catch((function(e){console.log(e)}))},action:"",children:[Object(j.jsxs)("div",{className:"form-row m-3",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("input",{type:"text",value:r,className:"form-control",onChange:function(e){return i(e.target.value)},placeholder:"name"})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("input",{type:"text",value:d,className:"form-control",onChange:function(e){return h(e.target.value)},placeholder:"location"})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("select",{className:"custom-select mr-sm-2",onChange:function(e){return p(e.target.value)},value:f,children:[Object(j.jsx)("option",{disabled:!0,children:"Price Range"}),Object(j.jsx)("option",{value:"1",children:"$"}),Object(j.jsx)("option",{value:"2",children:"$$"}),Object(j.jsx)("option",{value:"3",children:"$$$"}),Object(j.jsx)("option",{value:"4",children:"$$$$"}),Object(j.jsx)("option",{value:"5",children:"$$$$$"})]})})]}),Object(j.jsx)("div",{style:{textAlign:"center",paddingTop:15},children:Object(j.jsx)("button",{type:"submit",disabled:g,className:"col-auto btn btn-sm btn-primary",style:{borderRadius:"40%"},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"#ffc107",viewBox:"0 0 16 16",children:Object(j.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})})})]})})})},p=function(){var e=Object(n.useContext)(b),t=e.hamburgerOpen,c=e.setHamburgerOpen;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"text-left pl-4 pt-3",children:[Object(j.jsx)("h2",{className:"display-4 font-weight-bold ",style:{color:"#ff3547"},children:"ATX Eats"}),Object(j.jsx)("h2",{className:"font-weight-bold display-5 pb-2",style:{color:"white"},children:"Eat. Review. Repeat. \ud83c\udf54"}),Object(j.jsx)("button",{onClick:function(){return c(!t)},type:"button",class:"btn btn-lg btn-danger px-3",children:Object(j.jsx)("i",{class:"fas fa-list","aria-hidden":"true"})})]})})},g=c(70),v=c(71),N=c(72),w=(c(28),function(e){for(var t=e.rating,c=[],n=1;n<=5;n++)n<=t?c.push(Object(j.jsx)("i",{className:"text-warning fas fa-star"},n)):n!==Math.ceil(t)||Number.isInteger(t)?c.push(Object(j.jsx)("i",{className:"far fa-star"},n)):c.push(Object(j.jsx)("i",{className:"text-warning fas fa-star-half-alt"},n));return Object(j.jsx)(j.Fragment,{children:c})}),y=function(e){var t=Object(i.f)(),c=Object(n.useState)(!0),a=Object(o.a)(c,2),s=a[0],r=a[1],l=Object(n.useContext)(b),u=l.restaurants,d=l.setRestaurants,h=l.deleteRestaurant,O=function(e,t){return t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w,{rating:e}),Object(j.jsxs)("span",{className:"text-warning ml-1",children:["(",t,")"]})]}):Object(j.jsx)("span",{className:"text-warning",children:"0 review"})};return Object(n.useEffect)((function(){m.get("/").then((function(e){d(e.data.data)})).then((function(){r((function(e){return!e}))})).catch((function(e){console.log(e)}))}),[d]),s?Object(j.jsx)("div",{className:"d-flex justify-content-center",style:{color:"#ff3547"},children:Object(j.jsx)("i",{class:"fas fa-hamburger fa-spin fa-5x"})}):Object(j.jsx)(g.a,{children:Object(j.jsx)(v.a,{children:Object(j.jsx)(N.a,{xs:12,children:Object(j.jsx)("div",{className:"table-responsive pt-2 pl-2 pr-2",children:Object(j.jsxs)("table",{className:"table table-striped table-hover table-dark",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:"bg-primary",children:[Object(j.jsx)("th",{scope:"col",children:"Restaurant"}),Object(j.jsx)("th",{scope:"col",children:"Location"}),Object(j.jsx)("th",{scope:"col",children:"Price Range"}),Object(j.jsx)("th",{scope:"col",children:"Ratings"}),Object(j.jsx)("th",{scope:"col",children:"Edit"}),Object(j.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(j.jsx)("tbody",{children:u.map((function(e){var c=e.id,n=e.name,a=e.location,s=e.price_range,r=e.count,i=e.average_rating;return Object(j.jsxs)("tr",{onClick:function(){return function(e){t.push("/restaurants/".concat(e))}(c)},children:[Object(j.jsx)("th",{scope:"row",children:n}),Object(j.jsx)("td",{children:a}),Object(j.jsx)("td",{children:"$".repeat(s)}),Object(j.jsx)("td",{children:O(i,r)}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{onClick:function(e){return function(e,c){e.stopPropagation(),t.push("/restaurants/".concat(c,"/update"))}(e,c)},className:"btn btn-sm btn-warning",children:"Update"})}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{onClick:function(e){return function(e,t){e.stopPropagation(),m.delete("/".concat(t)).then((function(e){h(t)})).catch((function(e){console.log(e)}))}(e,c)},className:"btn btn-sm btn-danger",children:"Delete"})})]},c)}))})]})})})})})},R=function(e){return Object(j.jsxs)("div",{style:{backgroundColor:"#ffc107"},children:[Object(j.jsx)(p,{}),Object(j.jsx)(f,{}),Object(j.jsx)(y,{})]})},S=function(){var e=Object(i.g)().id,t=Object(i.f)(),c=Object(n.useState)(""),a=Object(o.a)(c,2),s=a[0],r=a[1],l=Object(n.useState)(1),b=Object(o.a)(l,2),u=b[0],d=b[1],h=Object(n.useState)(""),O=Object(o.a)(h,2),x=O[0],f=O[1],p=0===s.trim().length||0===x.trim().length;return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(c){c.preventDefault(),m.post("/".concat(e,"/addReview"),{name:s,rating:u,review:x}).then((function(e){r(""),d(0),f(""),t.push("/")})).catch((function(e){console.log(e)}))},children:[Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group col-8",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name"}),Object(j.jsx)("input",{type:"text",value:s,onChange:function(e){return r(e.target.value)},className:"form-control"})]}),Object(j.jsxs)("div",{className:"form-group col-4",children:[Object(j.jsx)("label",{htmlFor:"rating",children:"Rating"}),Object(j.jsxs)("select",{onChange:function(e){return d(e.target.value)},value:u,name:"rating",id:"rating",className:"custom-select",children:[Object(j.jsx)("option",{disabled:!0,children:"Rating"}),Object(j.jsx)("option",{value:"1",children:"1"}),Object(j.jsx)("option",{value:"2",children:"2"}),Object(j.jsx)("option",{value:"3",children:"3"}),Object(j.jsx)("option",{value:"4",children:"4"}),Object(j.jsx)("option",{value:"5",children:"5"})]})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"review",children:"Review"}),Object(j.jsx)("textarea",{value:x,onChange:function(e){return f(e.target.value)},className:"form-control",rows:"5"})]}),Object(j.jsx)("button",{disabled:p,className:"btn btn-primary",children:"Submit"})]})})},C=function(e){var t=e.reviews.reviews;return Object(j.jsx)("div",{className:"row row-cols-3 mb-2",children:t.map((function(e){return Object(j.jsxs)("div",{className:"card text-white bg-primary mb-3 mr-3",style:{maxWidth:"15rem"},children:[Object(j.jsx)("div",{className:"card-header",children:e.name}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:Object(j.jsx)(w,{rating:e.rating})}),Object(j.jsx)("p",{className:"card-text",children:e.review})]})]},e.id)}))})},$=function(){var e=Object(i.g)().id,t=Object(n.useState)(!0),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useContext)(b),l=r.selectedRestaurant,u=r.setSelectedRestaurant;return Object(n.useEffect)((function(){m.get("/".concat(e)).then((function(e){var t=e.data.data;u(t)})).then((function(){s((function(e){return!e}))})).catch((function(e){console.log(e)}))}),[u,e]),a?Object(j.jsx)("div",{className:"d-flex justify-content-center",style:{color:"#ff3547"},children:Object(j.jsx)("i",{class:"fas fa-hamburger fa-spin fa-5x"})}):Object(j.jsx)("div",{children:l&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"font-weight-bold display-4 text-center pt-5",style:{color:"#ff3547"},children:l.restaurant.name}),Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)(w,{rating:l.restaurant.average_rating}),Object(j.jsx)("span",{className:"text-warning ml-1",children:l.restaurant.count?"(".concat(Number(l.restaurant.count),")"):"(0)"})]}),Object(j.jsx)("div",{className:"mt-3",children:Object(j.jsx)(C,{reviews:l})}),Object(j.jsx)(S,{})]})})},F=function(){var e=Object(i.g)().id,t=Object(i.f)(),c=Object(n.useState)(""),a=Object(o.a)(c,2),s=a[0],r=a[1],l=Object(n.useState)(""),b=Object(o.a)(l,2),u=b[0],d=b[1],h=Object(n.useState)(1),O=Object(o.a)(h,2),x=O[0],f=O[1];Object(n.useEffect)((function(){m.get("/".concat(e)).then((function(e){var t=e.data.data.restaurant;r(t.name),d(t.location),f(t.price_range)})).catch((function(e){console.log(e)}))}),[e]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h1",{className:"font-weight-bold display-4 text-center pt-5",style:{color:"#ff3547"},children:["Update ",s]}),Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(c){c.preventDefault(),m.put("/".concat(e),{name:s,location:u,price_range:x}).then((function(){t.push("/")})).catch((function(e){console.log(e)}))},action:"",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name"}),Object(j.jsx)("input",{value:s,onChange:function(e){return r(e.target.value)},type:"text",className:"form-control",id:"name"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"location",children:"Location"}),Object(j.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)},className:"form-control",id:"location"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"price_range",children:"Price Range"}),Object(j.jsx)("input",{type:"number",value:x,onChange:function(e){return f(e.target.value)},min:"1",max:"5",className:"form-control",id:"price_range"})]}),Object(j.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})})]})},k=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(F,{})})},_=function(){return Object(j.jsx)(u,{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(r.a,{children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:R}),Object(j.jsx)(i.a,{exact:!0,path:"/restaurants/:id/update",component:k}),Object(j.jsx)(i.a,{exact:!0,path:"/restaurants/:id",component:$})]})})})})};s.a.render(Object(j.jsx)(_,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.38e0215f.chunk.js.map