{"version":3,"sources":["context/RestaurantsContext.js","apis/RestaurantFinder.js","components/AddRestaurant.jsx","components/Header.jsx","components/StarRating.jsx","components/RestaurantList.jsx","routes/Home.jsx","components/AddReview.jsx","components/Reviews.jsx","routes/RestaurantdetailPage.jsx","components/UpdateRestaurant.jsx","routes/UpdatePage.jsx","App.jsx","index.js"],"names":["RestaurantsContext","createContext","RestaurantsContextProvider","children","useState","restaurants","setRestaurants","selectedRestaurant","setSelectedRestaurant","Provider","value","addRestaurant","restaurant","deleteRestaurant","id","data","filter","RestaurantFinder","axios","create","baseURL","timeout","axiosRetry","retries","AddRestaurant","useContext","name","setName","location","setLocation","price","setPrice","isDisabled","trim","length","className","onSubmit","e","preventDefault","post","price_range","then","response","catch","error","console","log","action","type","onChange","target","placeholder","disabled","Header","StarRating","rating","stars","i","push","Math","ceil","Number","isInteger","RestaurantList","props","history","useHistory","isLoading","setIsLoading","renderRating","count","useEffect","get","prevState","Spinner","animation","role","scope","map","average_rating","onClick","handleRestaurantSelect","repeat","stopPropagation","handleUpdate","delete","handleDelete","Home","AddReview","useParams","setRating","review","setReview","htmlFor","rows","Reviews","reviews","style","maxWidth","RestaurantdetailPage","prev","UpdateRestaurant","put","min","max","UpdatePage","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f6ab0dd.chunk.js","sourcesContent":["import React, { createContext, useState } from \"react\";\r\n\r\nexport const RestaurantsContext = createContext();\r\n\r\nexport const RestaurantsContextProvider = ({ children }) => {\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [selectedRestaurant, setSelectedRestaurant] = useState(\"\");\r\n\r\n  const addRestaurant = (restaurant) => {\r\n    setRestaurants([...restaurants, restaurant]);\r\n  };\r\n\r\n  const deleteRestaurant = (id) => {\r\n    let data = restaurants.filter((restaurant) => restaurant.id !== id);\r\n    setRestaurants(data);\r\n  };\r\n  return (\r\n    <RestaurantsContext.Provider\r\n      value={{\r\n        restaurants,\r\n        setRestaurants,\r\n        addRestaurant,\r\n        deleteRestaurant,\r\n        selectedRestaurant,\r\n        setSelectedRestaurant,\r\n      }}\r\n    >\r\n      {children}\r\n    </RestaurantsContext.Provider>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport axiosRetry from \"axios-retry\";\r\n\r\nconst RestaurantFinder = axios.create({\r\n  baseURL:\r\n    process.env.NODE_ENV === \"production\"\r\n      ? \"http://localhost:7000/api/v1/restaurants\"\r\n      : \"https://desolate-eyrie-91630.herokuapp.com/api/v1/restaurants\",\r\n  timeout: 5000,\r\n});\r\n\r\naxiosRetry(RestaurantFinder, { retries: 3 });\r\n\r\nexport default RestaurantFinder;\r\n","import RestaurantFinder from \"../apis/RestaurantFinder\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\r\n\r\nconst AddRestaurant = () => {\r\n  const {addRestaurant} = useContext(RestaurantsContext)\r\n  const [name, setName] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [price, setPrice] = useState(1);\r\n\r\n  const isDisabled = name.trim().length === 0 || location.trim().length === 0\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    RestaurantFinder.post('/', {\r\n      name: name,\r\n      location,\r\n      price_range: price\r\n    })\r\n    .then(function (response) {\r\n      addRestaurant(response.data.data)\r\n      setName(\"\");\r\n      setPrice(0);\r\n      setLocation(\"\");\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <form onSubmit={handleSubmit} action=\"\">\r\n        <div className=\"form-row m-3\">\r\n          <div className=\"col\">\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              className=\"form-control\"\r\n              onChange={(e) => setName(e.target.value)}\r\n              placeholder=\"name\"\r\n            />\r\n          </div>\r\n          <div className=\"col\">\r\n            <input\r\n              type=\"text\"\r\n              value={location}\r\n              className=\"form-control\"\r\n              onChange={(e) => setLocation(e.target.value)}\r\n              placeholder=\"location\"\r\n            />\r\n          </div>\r\n          <div className=\"col\">\r\n            <select\r\n              className=\"custom-select mr-sm-2\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n              value={price}\r\n            >\r\n              <option disabled>Price Range</option>\r\n              <option value=\"1\">$</option>\r\n              <option value=\"2\">$$</option>\r\n              <option value=\"3\">$$$</option>\r\n              <option value=\"4\">$$$$</option>\r\n              <option value=\"5\">$$$$$</option>\r\n            </select>\r\n          </div>\r\n          <button type=\"submit\" disabled={isDisabled} className=\"col-auto btn btn-primary\">ADD</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddRestaurant;\r\n","import React from 'react'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div>\r\n      <h1 className=\"font-weight-light display-1 text-center\">Restaurant Finder</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\n\r\nconst StarRating = ({ rating }) => {\r\n  const stars = [];\r\n\r\n  for (var i = 1; i <= 5; i++) {\r\n    if (i <= rating) {\r\n      stars.push(<i key={i} className=\"text-warning fas fa-star\"></i>);\r\n    } \r\n    else if(i === Math.ceil(rating) && !Number.isInteger(rating)){\r\n      stars.push(<i key={i} className=\"text-warning fas fa-star-half-alt\"></i>);\r\n\r\n    } else {\r\n      stars.push(<i key={i} className=\"far fa-star\"></i>);\r\n    }\r\n  }\r\n  return <>{stars}</>;\r\n};\r\n\r\nexport default StarRating;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport StarRating from \"./StarRating\";\r\n\r\nconst RestaurantList = (props) => {\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { restaurants, setRestaurants, deleteRestaurant } = useContext(\r\n    RestaurantsContext\r\n  );\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    history.push(`/api/v1/restaurants/${id}/update`);\r\n  };\r\n\r\n  const handleRestaurantSelect = (id) => {\r\n    history.push(`/api/v1/restaurants/${id}`);\r\n  };\r\n\r\n  const renderRating = (rating, count) => {\r\n    if (!count) {\r\n      return <span className=\"text-warning\">0 review</span>;\r\n    } else {\r\n      return (\r\n        <>\r\n          <StarRating rating={rating} />\r\n          <span className=\"text-warning ml-1\">({count})</span>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleDelete = (e, id) => {\r\n    e.stopPropagation();\r\n    RestaurantFinder.delete(`/${id}`)\r\n      .then(function (response) {\r\n        deleteRestaurant(id);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    RestaurantFinder.get(\"/\")\r\n      .then((response) => {\r\n        setRestaurants(response.data.data);\r\n      })\r\n      .then(() => {\r\n        setIsLoading((prevState) => !prevState);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [setRestaurants]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center\">\r\n        <Spinner animation=\"border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-striped table-hover table-dark\">\r\n        <thead>\r\n          <tr className=\"bg-primary\">\r\n            <th scope=\"col\">Restaurant</th>\r\n            <th scope=\"col\">Location</th>\r\n            <th scope=\"col\">Price Range</th>\r\n            <th scope=\"col\">Ratings</th>\r\n            <th scope=\"col\">Edit</th>\r\n            <th scope=\"col\">Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {restaurants.map(\r\n            ({ id, name, location, price_range, count, average_rating }) => (\r\n              <tr onClick={() => handleRestaurantSelect(id)} key={id}>\r\n                <th scope=\"row\">{name}</th>\r\n                <td>{location}</td>\r\n                <td>{\"$\".repeat(price_range)}</td>\r\n                <td>{renderRating(average_rating, count)}</td>\r\n                <td>\r\n                  <button\r\n                    onClick={(e) => handleUpdate(e, id)}\r\n                    className=\"btn btn-warning\"\r\n                  >\r\n                    Update\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    onClick={(e) => handleDelete(e, id)}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantList;\r\n","import React from \"react\"\r\nimport AddRestaurant from \"../components/AddRestaurant\"\r\nimport Header from \"../components/Header\"\r\nimport RestaurantList from \"../components/RestaurantList\"\r\n\r\nconst Home = (props) => {\r\n  return (\r\n    <div>\r\n      <Header/>\r\n      <AddRestaurant/>\r\n      <RestaurantList />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\n\r\nconst AddReview = () => {\r\n  const {id} = useParams()\r\n  const history = useHistory()\r\n  const [name, setName] = useState(\"\");\r\n  const [rating, setRating] = useState(1);\r\n  const [review, setReview] = useState(\"\");\r\n\r\n  const isDisabled = name.trim().length === 0 || review.trim().length === 0\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    RestaurantFinder.post(`/${id}/addReview`, {\r\n      name,\r\n      rating,\r\n      review\r\n    })\r\n    .then(function (response) {\r\n      setName(\"\");\r\n      setRating(0);\r\n      setReview(\"\");\r\n      history.push('/')\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-8\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-4\">\r\n            <label htmlFor=\"rating\">Rating</label>\r\n            <select\r\n              onChange={(e) => setRating(e.target.value)}\r\n              value={rating}\r\n              name=\"rating\"\r\n              id=\"rating\"\r\n              className=\"custom-select\"\r\n            >\r\n              <option disabled>Rating</option>\r\n              <option value=\"1\">1</option>\r\n              <option value=\"2\">2</option>\r\n              <option value=\"3\">3</option>\r\n              <option value=\"4\">4</option>\r\n              <option value=\"5\">5</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"review\">Review</label>\r\n          <textarea value={review} onChange={e=> setReview(e.target.value)} className=\"form-control\" rows=\"5\"></textarea>\r\n        </div>\r\n        <button disabled={isDisabled} className=\"btn btn-primary\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddReview;\r\n","import React from \"react\";\r\nimport StarRating from \"./StarRating\";\r\n\r\nconst Reviews = (props) => {\r\n  const { reviews } = props.reviews;\r\n  \r\n  return (\r\n    <div className=\"row row-cols-3 mb-2\">\r\n      {reviews.map((review) => (\r\n        <div\r\n          key={review.id}\r\n          className=\"card text-white bg-primary mb-3 mr-3\"\r\n          style={{ maxWidth: \"15rem\" }}\r\n        >\r\n          <div className=\"card-header\">{review.name}</div>\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">\r\n              <StarRating rating={review.rating} />\r\n            </h5>\r\n            <p className=\"card-text\">{review.review}</p>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport RestaurantFinder from '../apis/RestaurantFinder';\r\nimport AddReview from '../components/AddReview';\r\nimport Reviews from '../components/Reviews';\r\nimport StarRating from '../components/StarRating';\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { RestaurantsContext } from '../context/RestaurantsContext';\r\n\r\nconst RestaurantdetailPage = () => {\r\n  const {id} = useParams()\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const {selectedRestaurant, setSelectedRestaurant} = useContext(RestaurantsContext)  \r\n\r\n  useEffect(() => {\r\n    RestaurantFinder.get(`/${id}`)\r\n      .then((response) => {\r\n        const data = response.data.data\r\n        setSelectedRestaurant(data);\r\n      })\r\n      .then(()=>{\r\n        setIsLoading(prev => !prev)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [setSelectedRestaurant, id]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center\">\r\n        <Spinner animation=\"border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {selectedRestaurant && (\r\n        <>\r\n        <h1 className=\"font-weight-light display-1 text-center\">{selectedRestaurant.restaurant.name}</h1>\r\n        <div className=\"text-center\">\r\n          <StarRating rating={selectedRestaurant.restaurant.average_rating} />\r\n          <span className=\"text-warning ml-1\">\r\n            {selectedRestaurant.restaurant.count ? `(${Number(selectedRestaurant.restaurant.count)})` : \"(0)\"}\r\n          </span>\r\n        </div>\r\n        <div className=\"mt-3\">\r\n          <Reviews reviews={selectedRestaurant}/>\r\n        </div>\r\n        <AddReview />\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RestaurantdetailPage\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\n\r\nconst UpdateRestaurant = () => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [price, setPrice] = useState(1);\r\n\r\n  useEffect(() => {\r\n    RestaurantFinder.get(`/${id}`)\r\n      .then((response) => {\r\n        const data = response.data.data.restaurant;\r\n        setName(data.name);\r\n        setLocation(data.location);\r\n        setPrice(data.price_range);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [id]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    RestaurantFinder.put(`/api/v1/restaurants/${id}`, {\r\n      name,\r\n      location,\r\n      price_range: price,\r\n    })\r\n      .then(function () {\r\n        history.push(\"/\");\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"font-weight-light display-2 text-center\">\r\n        Update {name}\r\n      </h1>\r\n      <div>\r\n        <form onSubmit={onSubmit} action=\"\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"name\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"location\">Location</label>\r\n            <input\r\n              type=\"text\"\r\n              value={location}\r\n              onChange={(e) => setLocation(e.target.value)}\r\n              className=\"form-control\"\r\n              id=\"location\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"price_range\">Price Range</label>\r\n            <input\r\n              type=\"number\"\r\n              value={price}\r\n              onChange={(e) => setPrice(e.target.value)}\r\n              min=\"1\"\r\n              max=\"5\"\r\n              className=\"form-control\"\r\n              id=\"price_range\"\r\n            />\r\n          </div>\r\n          <button className=\"btn btn-primary\">Submit</button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UpdateRestaurant;\r\n","import React from 'react'\r\nimport UpdateRestaurant from '../components/UpdateRestaurant'\r\n\r\nconst UpdatePage = () => {\r\n  return (\r\n    <div>\r\n      <UpdateRestaurant/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdatePage\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { RestaurantsContextProvider } from \"./context/RestaurantsContext\";\r\nimport Home from \"./routes/Home\";\r\nimport RestaurantdetailPage from \"./routes/RestaurantdetailPage\";\r\nimport UpdatePage from \"./routes/UpdatePage\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <RestaurantsContextProvider>\r\n      <div className=\"container\">\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"https://desolate-eyrie-91630.herokuapp.com/api/v1/restaurants/:id/update\" component={UpdatePage} />\r\n            {/* <Route exact path=\"/restaurants/:id/update\" component={UpdatePage} /> */}\r\n            <Route\r\n              exact\r\n              path=\"https://desolate-eyrie-91630.herokuapp.com/api/v1/restaurants/:id\"\r\n              // path=\"/restaurants/:id\"\r\n              component={RestaurantdetailPage}\r\n            />\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    </RestaurantsContextProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'))\r\n"],"sourceRoot":""}